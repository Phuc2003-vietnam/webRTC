{"version":3,"sources":["Video.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","error","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","connections","peerConnectionConfig","socket","socketId","elms","Video","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","getPermissions","_asyncToGenerator","_callee","_context","navigator","mediaDevices","getUserMedia","video","videoAvailable","audio","audioAvailable","getDisplayMedia","setState","screenAvailable","stream","window","localStream","localVideoref","current","srcObject","e","console","log","t0","getMedia","connectToSocketServer","getUserMediaSuccess","getTracks","track","_loop","id","addStream","createOffer","description","setLocalDescription","emit","JSON","stringify","localDescription","onended","_this2","MediaStream","black","apply","arguments","silence","blackSilence","_loop2","_id","getDislayMedia","screen","getDislayMediaSuccess","_loop3","_this3","gotMessageFromServer","fromId","message","signal","parse","sdp","setRemoteDescription","RTCSessionDescription","createAnswer","ice","addIceCandidate","RTCIceCandidate","changeCssVideos","main","minWidth","offsetWidth","height","String","width","videos","querySelectorAll","a","style","minHeight","setProperty","io","connect","secure","on","location","href","addMessage","document","querySelector","concat","parentNode","removeChild","getElementById","clients","socketListId","RTCPeerConnection","onicecandidate","event","candidate","onaddstream","searchVidep","cssMesure","createElement","css","maxHeight","margin","borderStyle","borderColor","objectFit","setAttribute","autoplay","playsinline","appendChild","_this4","_loop4","id2","ctx","AudioContext","oscillator","createOscillator","dst","createMediaStreamDestination","start","resume","assign","getAudioTracks","enabled","_ref2","_ref2$width","_ref2$height","canvas","getContext","fillRect","captureStream","getVideoTracks","handleVideo","handleAudio","handleScreen","handleEndCall","openChat","showModal","newmessages","closeChat","handleMessage","target","data","sender","socketIdSender","prevState","messages","_toConsumableArray","handleUsername","username","sendMessage","copyUrl","text","clipboard","writeText","success","textArea","body","focus","select","execCommand","askForUsername","isChrome","userAgent","toLowerCase","vendor","test","match","React","createRef","faker","internet","userName","_createClass","_this5","this","background","padding","textAlign","marginTop","justifyContent","fontWeight","paddingRight","Input","placeholder","onChange","Button","variant","color","onClick","paddingTop","ref","autoPlay","muted","className","backgroundColor","IconButton","VideocamIcon","VideocamOffIcon","CallEndIcon","MicIcon","MicOffIcon","ScreenShareIcon","StopScreenShareIcon","Badge","badgeContent","max","ChatIcon","Modal","show","onHide","zIndex","Header","closeButton","Title","Body","overflow","overflowY","map","item","index","wordBreak","Footer","disable","marginLeft","fontSize","Row","Component","Home","handleChange","url","join","split","Math","random","toString","substring","marginBottom","GitHubIcon","App","Router","Switch","Route","path","exact","component","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1b1e1533.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport io from 'socket.io-client'\nimport faker from \"faker\"\n\nimport {IconButton, Badge, Input, Button} from '@material-ui/core'\nimport VideocamIcon from '@material-ui/icons/Videocam'\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff'\nimport MicIcon from '@material-ui/icons/Mic'\nimport MicOffIcon from '@material-ui/icons/MicOff'\nimport ScreenShareIcon from '@material-ui/icons/ScreenShare'\nimport StopScreenShareIcon from '@material-ui/icons/StopScreenShare'\nimport CallEndIcon from '@material-ui/icons/CallEnd'\nimport ChatIcon from '@material-ui/icons/Chat'\n\nimport { message } from 'antd'\nimport 'antd/dist/antd.css'\n\nimport { Row } from 'reactstrap'\nimport Modal from 'react-bootstrap/Modal'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport \"./Video.css\"\n\nconst server_url = \"http://localhost:4001\"\n\nvar connections = {}\nconst peerConnectionConfig = {\n\t'iceServers': [\n\t\t// { 'urls': 'stun:stun.services.mozilla.com' },\n\t\t{ 'urls': 'stun:stun.l.google.com:19302' },\n\t]\n}\nvar socket = null\nvar socketId = null\nvar elms = 0\n\nclass Video extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.localVideoref = React.createRef()\n\n\t\tthis.videoAvailable = false\n\t\tthis.audioAvailable = false\n\n\t\tthis.state = {\n\t\t\tvideo: false,\n\t\t\taudio: false,\n\t\t\tscreen: false,\n\t\t\tshowModal: false,\n\t\t\tscreenAvailable: false,\n\t\t\tmessages: [],\n\t\t\tmessage: \"\",\n\t\t\tnewmessages: 0,\n\t\t\taskForUsername: true,\n\t\t\tusername: faker.internet.userName(),\n\t\t}\n\t\tconnections = {}\n\n\t\tthis.getPermissions()\n\t}\n\n\tgetPermissions = async () => {\n\t\ttry{\n\t\t\tawait navigator.mediaDevices.getUserMedia({ video: true })\n\t\t\t\t.then(() => this.videoAvailable = true)\n\t\t\t\t.catch(() => this.videoAvailable = false)\n\n\t\t\tawait navigator.mediaDevices.getUserMedia({ audio: true })\n\t\t\t\t.then(() => this.audioAvailable = true)\n\t\t\t\t.catch(() => this.audioAvailable = false)\n\n\t\t\tif (navigator.mediaDevices.getDisplayMedia) {\n\t\t\t\tthis.setState({ screenAvailable: true })\n\t\t\t} else {\n\t\t\t\tthis.setState({ screenAvailable: false })\n\t\t\t}\n\n\t\t\tif (this.videoAvailable || this.audioAvailable) {\n\t\t\t\tnavigator.mediaDevices.getUserMedia({ video: this.videoAvailable, audio: this.audioAvailable })\n\t\t\t\t\t.then((stream) => {\n\t\t\t\t\t\twindow.localStream = stream\n\t\t\t\t\t\tthis.localVideoref.current.srcObject = stream\n\t\t\t\t\t})\n\t\t\t\t\t.then((stream) => {})\n\t\t\t\t\t.catch((e) => console.log(e))\n\t\t\t}\n\t\t} catch(e) { console.log(e) }\n\t}\n\n\tgetMedia = () => {\n\t\tthis.setState({\n\t\t\tvideo: this.videoAvailable,\n\t\t\taudio: this.audioAvailable\n\t\t}, () => {\n\t\t\tthis.getUserMedia()\n\t\t\tthis.connectToSocketServer()\n\t\t})\n\t}\n\n\tgetUserMedia = () => {\n\t\tif ((this.state.video && this.videoAvailable) || (this.state.audio && this.audioAvailable)) {\n\t\t\tnavigator.mediaDevices.getUserMedia({ video: this.state.video, audio: this.state.audio })\n\t\t\t\t.then(this.getUserMediaSuccess)\n\t\t\t\t.then((stream) => {})\n\t\t\t\t.catch((e) => console.log(e))\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tlet tracks = this.localVideoref.current.srcObject.getTracks()\n\t\t\t\ttracks.forEach(track => track.stop())\n\t\t\t} catch (e) {}\n\t\t}\n\t}\n\n\tgetUserMediaSuccess = (stream) => {\n\t\ttry {\n\t\t\twindow.localStream.getTracks().forEach(track => track.stop())\n\t\t} catch(e) { console.log(e) }\n\n\t\twindow.localStream = stream\n\t\tthis.localVideoref.current.srcObject = stream\n\n\t\tfor (let id in connections) {\n\t\t\tif (id === socketId) continue\n\n\t\t\tconnections[id].addStream(window.localStream)\n\n\t\t\tconnections[id].createOffer().then((description) => {\n\t\t\t\tconnections[id].setLocalDescription(description)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tsocket.emit('signal', id, JSON.stringify({ 'sdp': connections[id].localDescription }))\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => console.log(e))\n\t\t\t})\n\t\t}\n\n\t\tstream.getTracks().forEach(track => track.onended = () => {\n\t\t\tthis.setState({\n\t\t\t\tvideo: false,\n\t\t\t\taudio: false,\n\t\t\t}, () => {\n\t\t\t\ttry {\n\t\t\t\t\tlet tracks = this.localVideoref.current.srcObject.getTracks()\n\t\t\t\t\ttracks.forEach(track => track.stop())\n\t\t\t\t} catch(e) { console.log(e) }\n\n\t\t\t\tlet blackSilence = (...args) => new MediaStream([this.black(...args), this.silence()])\n\t\t\t\twindow.localStream = blackSilence()\n\t\t\t\tthis.localVideoref.current.srcObject = window.localStream\n\n\t\t\t\tfor (let id in connections) {\n\t\t\t\t\tconnections[id].addStream(window.localStream)\n\n\t\t\t\t\tconnections[id].createOffer().then((description) => {\n\t\t\t\t\t\tconnections[id].setLocalDescription(description)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tsocket.emit('signal', id, JSON.stringify({ 'sdp': connections[id].localDescription }))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(e => console.log(e))\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tgetDislayMedia = () => {\n\t\tif (this.state.screen) {\n\t\t\tif (navigator.mediaDevices.getDisplayMedia) {\n\t\t\t\tnavigator.mediaDevices.getDisplayMedia({ video: true, audio: true })\n\t\t\t\t\t.then(this.getDislayMediaSuccess)\n\t\t\t\t\t.then((stream) => {})\n\t\t\t\t\t.catch((e) => console.log(e))\n\t\t\t}\n\t\t}\n\t}\n\n\tgetDislayMediaSuccess = (stream) => {\n\t\ttry {\n\t\t\twindow.localStream.getTracks().forEach(track => track.stop())\n\t\t} catch(e) { console.log(e) }\n\n\t\twindow.localStream = stream\n\t\tthis.localVideoref.current.srcObject = stream\n\n\t\tfor (let id in connections) {\n\t\t\tif (id === socketId) continue\n\n\t\t\tconnections[id].addStream(window.localStream)\n\n\t\t\tconnections[id].createOffer().then((description) => {\n\t\t\t\tconnections[id].setLocalDescription(description)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tsocket.emit('signal', id, JSON.stringify({ 'sdp': connections[id].localDescription }))\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => console.log(e))\n\t\t\t})\n\t\t}\n\n\t\tstream.getTracks().forEach(track => track.onended = () => {\n\t\t\tthis.setState({\n\t\t\t\tscreen: false,\n\t\t\t}, () => {\n\t\t\t\ttry {\n\t\t\t\t\tlet tracks = this.localVideoref.current.srcObject.getTracks()\n\t\t\t\t\ttracks.forEach(track => track.stop())\n\t\t\t\t} catch(e) { console.log(e) }\n\n\t\t\t\tlet blackSilence = (...args) => new MediaStream([this.black(...args), this.silence()])\n\t\t\t\twindow.localStream = blackSilence()\n\t\t\t\tthis.localVideoref.current.srcObject = window.localStream\n\n\t\t\t\tthis.getUserMedia()\n\t\t\t})\n\t\t})\n\t}\n\n\tgotMessageFromServer = (fromId, message) => {\n\t\tvar signal = JSON.parse(message)\n\n\t\tif (fromId !== socketId) {\n\t\t\tif (signal.sdp) {\n\t\t\t\tconnections[fromId].setRemoteDescription(new RTCSessionDescription(signal.sdp)).then(() => {\n\t\t\t\t\tif (signal.sdp.type === 'offer') {\n\t\t\t\t\t\tconnections[fromId].createAnswer().then((description) => {\n\t\t\t\t\t\t\tconnections[fromId].setLocalDescription(description).then(() => {\n\t\t\t\t\t\t\t\tsocket.emit('signal', fromId, JSON.stringify({ 'sdp': connections[fromId].localDescription }))\n\t\t\t\t\t\t\t}).catch(e => console.log(e))\n\t\t\t\t\t\t}).catch(e => console.log(e))\n\t\t\t\t\t}\n\t\t\t\t}).catch(e => console.log(e))\n\t\t\t}\n\n\t\t\tif (signal.ice) {\n\t\t\t\tconnections[fromId].addIceCandidate(new RTCIceCandidate(signal.ice)).catch(e => console.log(e))\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeCssVideos = (main) => {\n\t\tlet widthMain = main.offsetWidth\n\t\tlet minWidth = \"30%\"\n\t\tif ((widthMain * 30 / 100) < 300) {\n\t\t\tminWidth = \"300px\"\n\t\t}\n\t\tlet minHeight = \"40%\"\n\n\t\tlet height = String(100 / elms) + \"%\"\n\t\tlet width = \"\"\n\t\tif(elms === 0 || elms === 1) {\n\t\t\twidth = \"100%\"\n\t\t\theight = \"100%\"\n\t\t} else if (elms === 2) {\n\t\t\twidth = \"45%\"\n\t\t\theight = \"100%\"\n\t\t} else if (elms === 3 || elms === 4) {\n\t\t\twidth = \"35%\"\n\t\t\theight = \"50%\"\n\t\t} else {\n\t\t\twidth = String(100 / elms) + \"%\"\n\t\t}\n\n\t\tlet videos = main.querySelectorAll(\"video\")\n\t\tfor (let a = 0; a < videos.length; ++a) {\n\t\t\tvideos[a].style.minWidth = minWidth\n\t\t\tvideos[a].style.minHeight = minHeight\n\t\t\tvideos[a].style.setProperty(\"width\", width)\n\t\t\tvideos[a].style.setProperty(\"height\", height)\n\t\t}\n\n\t\treturn {minWidth, minHeight, width, height}\n\t}\n\n\tconnectToSocketServer = () => {\n\t\tsocket = io.connect(server_url, { secure: true })\n\n\t\tsocket.on('signal', this.gotMessageFromServer)\n\n\t\tsocket.on('connect', () => {\n\t\t\tsocket.emit('join-call', window.location.href)\n\t\t\tsocketId = socket.id\n\n\t\t\tsocket.on('chat-message', this.addMessage)\n\n\t\t\tsocket.on('user-left', (id) => {\n\t\t\t\tlet video = document.querySelector(`[data-socket=\"${id}\"]`)\n\t\t\t\tif (video !== null) {\n\t\t\t\t\telms--\n\t\t\t\t\tvideo.parentNode.removeChild(video)\n\n\t\t\t\t\tlet main = document.getElementById('main')\n\t\t\t\t\tthis.changeCssVideos(main)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsocket.on('user-joined', (id, clients) => {\n\t\t\t\tclients.forEach((socketListId) => {\n\t\t\t\t\tconnections[socketListId] = new RTCPeerConnection(peerConnectionConfig)\n\t\t\t\t\t// Wait for their ice candidate       \n\t\t\t\t\tconnections[socketListId].onicecandidate = function (event) {\n\t\t\t\t\t\tif (event.candidate != null) {\n\t\t\t\t\t\t\tsocket.emit('signal', socketListId, JSON.stringify({ 'ice': event.candidate }))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Wait for their video stream\n\t\t\t\t\tconnections[socketListId].onaddstream = (event) => {\n\t\t\t\t\t\t// TODO mute button, full screen button\n\t\t\t\t\t\tvar searchVidep = document.querySelector(`[data-socket=\"${socketListId}\"]`)\n\t\t\t\t\t\tif (searchVidep !== null) { // if i don't do this check it make an empyt square\n\t\t\t\t\t\t\tsearchVidep.srcObject = event.stream\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telms = clients.length\n\t\t\t\t\t\t\tlet main = document.getElementById('main')\n\t\t\t\t\t\t\tlet cssMesure = this.changeCssVideos(main)\n\n\t\t\t\t\t\t\tlet video = document.createElement('video')\n\n\t\t\t\t\t\t\tlet css = {minWidth: cssMesure.minWidth, minHeight: cssMesure.minHeight, maxHeight: \"100%\", margin: \"10px\",\n\t\t\t\t\t\t\t\tborderStyle: \"solid\", borderColor: \"#bdbdbd\", objectFit: \"fill\"}\n\t\t\t\t\t\t\tfor(let i in css) video.style[i] = css[i]\n\n\t\t\t\t\t\t\tvideo.style.setProperty(\"width\", cssMesure.width)\n\t\t\t\t\t\t\tvideo.style.setProperty(\"height\", cssMesure.height)\n\t\t\t\t\t\t\tvideo.setAttribute('data-socket', socketListId)\n\t\t\t\t\t\t\tvideo.srcObject = event.stream\n\t\t\t\t\t\t\tvideo.autoplay = true\n\t\t\t\t\t\t\tvideo.playsinline = true\n\n\t\t\t\t\t\t\tmain.appendChild(video)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add the local video stream\n\t\t\t\t\tif (window.localStream !== undefined && window.localStream !== null) {\n\t\t\t\t\t\tconnections[socketListId].addStream(window.localStream)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet blackSilence = (...args) => new MediaStream([this.black(...args), this.silence()])\n\t\t\t\t\t\twindow.localStream = blackSilence()\n\t\t\t\t\t\tconnections[socketListId].addStream(window.localStream)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (id === socketId) {\n\t\t\t\t\tfor (let id2 in connections) {\n\t\t\t\t\t\tif (id2 === socketId) continue\n\t\t\t\t\t\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconnections[id2].addStream(window.localStream)\n\t\t\t\t\t\t} catch(e) {}\n\t\t\t\n\t\t\t\t\t\tconnections[id2].createOffer().then((description) => {\n\t\t\t\t\t\t\tconnections[id2].setLocalDescription(description)\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\tsocket.emit('signal', id2, JSON.stringify({ 'sdp': connections[id2].localDescription }))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(e => console.log(e))\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tsilence = () => {\n\t\tlet ctx = new AudioContext()\n\t\tlet oscillator = ctx.createOscillator()\n\t\tlet dst = oscillator.connect(ctx.createMediaStreamDestination())\n\t\toscillator.start()\n\t\tctx.resume()\n\t\treturn Object.assign(dst.stream.getAudioTracks()[0], { enabled: false })\n\t}\n\tblack = ({ width = 640, height = 480 } = {}) => {\n\t\tlet canvas = Object.assign(document.createElement(\"canvas\"), { width, height })\n\t\tcanvas.getContext('2d').fillRect(0, 0, width, height)\n\t\tlet stream = canvas.captureStream()\n\t\treturn Object.assign(stream.getVideoTracks()[0], { enabled: false })\n\t}\n\n\thandleVideo = () => this.setState({ video: !this.state.video }, () => this.getUserMedia())\n\thandleAudio = () => this.setState({ audio: !this.state.audio }, () => this.getUserMedia())\n\thandleScreen = () => this.setState({ screen: !this.state.screen }, () => this.getDislayMedia())\n\n\thandleEndCall = () => {\n\t\ttry {\n\t\t\tlet tracks = this.localVideoref.current.srcObject.getTracks()\n\t\t\ttracks.forEach(track => track.stop())\n\t\t} catch (e) {}\n\t\twindow.location.href = \"/\"\n\t}\n\n\topenChat = () => this.setState({ showModal: true, newmessages: 0 })\n\tcloseChat = () => this.setState({ showModal: false })\n\thandleMessage = (e) => this.setState({ message: e.target.value })\n\n\taddMessage = (data, sender, socketIdSender) => {\n\t\tthis.setState(prevState => ({\n\t\t\tmessages: [...prevState.messages, { \"sender\": sender, \"data\": data }],\n\t\t}))\n\t\tif (socketIdSender !== socketId) {\n\t\t\tthis.setState({ newmessages: this.state.newmessages + 1 })\n\t\t}\n\t}\n\n\thandleUsername = (e) => this.setState({ username: e.target.value })\n\n\tsendMessage = () => {\n\t\tsocket.emit('chat-message', this.state.message, this.state.username)\n\t\tthis.setState({ message: \"\", sender: this.state.username })\n\t}\n\n\tcopyUrl = () => {\n\t\tlet text = window.location.href\n\t\tif (!navigator.clipboard) {\n\t\t\tlet textArea = document.createElement(\"textarea\")\n\t\t\ttextArea.value = text\n\t\t\tdocument.body.appendChild(textArea)\n\t\t\ttextArea.focus()\n\t\t\ttextArea.select()\n\t\t\ttry {\n\t\t\t\tdocument.execCommand('copy')\n\t\t\t\tmessage.success(\"Link copied to clipboard!\")\n\t\t\t} catch (err) {\n\t\t\t\tmessage.error(\"Failed to copy\")\n\t\t\t}\n\t\t\tdocument.body.removeChild(textArea)\n\t\t\treturn\n\t\t}\n\t\tnavigator.clipboard.writeText(text).then(function () {\n\t\t\tmessage.success(\"Link copied to clipboard!\")\n\t\t}, () => {\n\t\t\tmessage.error(\"Failed to copy\")\n\t\t})\n\t}\n\n\tconnect = () => this.setState({ askForUsername: false }, () => this.getMedia())\n\n\tisChrome = function () {\n\t\tlet userAgent = (navigator && (navigator.userAgent || '')).toLowerCase()\n\t\tlet vendor = (navigator && (navigator.vendor || '')).toLowerCase()\n\t\tlet matchChrome = /google inc/.test(vendor) ? userAgent.match(/(?:chrome|crios)\\/(\\d+)/) : null\n\t\t// let matchFirefox = userAgent.match(/(?:firefox|fxios)\\/(\\d+)/)\n\t\t// return matchChrome !== null || matchFirefox !== null\n\t\treturn matchChrome !== null\n\t}\n\n\trender() {\n\t\tif(this.isChrome() === false){\n\t\t\treturn (\n\t\t\t\t<div style={{background: \"white\", width: \"30%\", height: \"auto\", padding: \"20px\", minWidth: \"400px\",\n\t\t\t\t\t\ttextAlign: \"center\", margin: \"auto\", marginTop: \"50px\", justifyContent: \"center\"}}>\n\t\t\t\t\t<h1>Sorry, this works only with Google Chrome</h1>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.askForUsername === true ?\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{background: \"white\", width: \"30%\", height: \"auto\", padding: \"20px\", minWidth: \"400px\",\n\t\t\t\t\t\t\t\ttextAlign: \"center\", margin: \"auto\", marginTop: \"50px\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t\t<p style={{ margin: 0, fontWeight: \"bold\", paddingRight: \"50px\" }}>Set your username</p>\n\t\t\t\t\t\t\t<Input placeholder=\"Username\" value={this.state.username} onChange={e => this.handleUsername(e)} />\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.connect} style={{ margin: \"20px\" }}>Connect</Button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div style={{ justifyContent: \"center\", textAlign: \"center\", paddingTop: \"40px\" }}>\n\t\t\t\t\t\t\t<video id=\"my-video\" ref={this.localVideoref} autoPlay muted style={{\n\t\t\t\t\t\t\t\tborderStyle: \"solid\",borderColor: \"#bdbdbd\",objectFit: \"fill\",width: \"60%\",height: \"30%\"}}></video>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"btn-down\" style={{ backgroundColor: \"whitesmoke\", color: \"whitesmoke\", textAlign: \"center\" }}>\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={this.handleVideo}>\n\t\t\t\t\t\t\t\t{(this.state.video === true) ? <VideocamIcon /> : <VideocamOffIcon />}\n\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#f44336\" }} onClick={this.handleEndCall}>\n\t\t\t\t\t\t\t\t<CallEndIcon />\n\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={this.handleAudio}>\n\t\t\t\t\t\t\t\t{this.state.audio === true ? <MicIcon /> : <MicOffIcon />}\n\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t{this.state.screenAvailable === true ?\n\t\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={this.handleScreen}>\n\t\t\t\t\t\t\t\t\t{this.state.screen === true ? <ScreenShareIcon /> : <StopScreenShareIcon />}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t\t<Badge badgeContent={this.state.newmessages} max={999} color=\"secondary\" onClick={this.openChat}>\n\t\t\t\t\t\t\t\t<IconButton style={{ color: \"#424242\" }} onClick={this.openChat}>\n\t\t\t\t\t\t\t\t\t<ChatIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Modal show={this.state.showModal} onHide={this.closeChat} style={{ zIndex: \"999999\" }}>\n\t\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t\t<Modal.Title>Chat Room</Modal.Title>\n\t\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t\t<Modal.Body style={{ overflow: \"auto\", overflowY: \"auto\", height: \"400px\", textAlign: \"left\" }} >\n\t\t\t\t\t\t\t\t{this.state.messages.length > 0 ? this.state.messages.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index} style={{textAlign: \"left\"}}>\n\t\t\t\t\t\t\t\t\t\t<p style={{ wordBreak: \"break-all\" }}><b>{item.sender}</b>: {item.data}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)) : <p>No message yet</p>}\n\t\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t\t<Modal.Footer className=\"div-send-msg\">\n\t\t\t\t\t\t\t\t<Input placeholder=\"Message\" value={this.state.message} onChange={e => this.handleMessage(e)} />\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.sendMessage}>Send</Button>\n\t\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t\t</Modal>\n\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div style={{ paddingTop: \"20px\" }}>\n\t\t\t\t\t\t\t\t<Input value={window.location.href} disable=\"true\"></Input>\n\t\t\t\t\t\t\t\t<Button style={{backgroundColor: \"#3f51b5\",color: \"whitesmoke\",marginLeft: \"20px\",\n\t\t\t\t\t\t\t\t\tmarginTop: \"10px\",width: \"120px\",fontSize: \"10px\"\n\t\t\t\t\t\t\t\t}} onClick={this.copyUrl}>Copy invite link</Button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Row id=\"main\" className=\"flex-container\" style={{ margin: 0, padding: 0 }}>\n\t\t\t\t\t\t\t\t<video id=\"my-video\" ref={this.localVideoref} autoPlay muted style={{\n\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",borderColor: \"#bdbdbd\",margin: \"10px\",objectFit: \"fill\",\n\t\t\t\t\t\t\t\t\twidth: \"100%\",height: \"100%\"}}></video>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Video","import React, { Component } from 'react';\nimport { Input, Button, IconButton } from '@material-ui/core';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport \"./Home.css\"\n\nclass Home extends Component {\n  \tconstructor (props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\turl: ''\n\t\t}\n\t}\n\n\thandleChange = (e) => this.setState({ url: e.target.value })\n\n\tjoin = () => {\n\t\tif (this.state.url !== \"\") {\n\t\t\tvar url = this.state.url.split(\"/\")\n\t\t\twindow.location.href = `/${url[url.length-1]}`\n\t\t} else {\n\t\t\tvar url = Math.random().toString(36).substring(2, 7)\n\t\t\twindow.location.href = `/${url}`\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container2\">\n\t\t\t\t<div style={{fontSize: \"14px\", background: \"white\", width: \"10%\", textAlign: \"center\", margin: \"auto\", marginBottom: \"10px\"}}>\n\t\t\t\t\tSource code: \n\t\t\t\t\t<IconButton style={{color: \"black\"}} onClick={() => window.location.href=\"https://github.com/0x5eba/Video-Meeting\"}>\n\t\t\t\t\t\t<GitHubIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div>\n\t\t\t\t\t<h1 style={{ fontSize: \"45px\" }}>Video Meeting</h1>\n\t\t\t\t\t<p style={{ fontWeight: \"200\" }}>Video conference website that lets you stay in touch with all your friends.</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={{\n\t\t\t\t\tbackground: \"white\", width: \"30%\", height: \"auto\", padding: \"20px\", minWidth: \"400px\",\n\t\t\t\t\ttextAlign: \"center\", margin: \"auto\", marginTop: \"100px\"\n\t\t\t\t}}>\n\t\t\t\t\t<p style={{ margin: 0, fontWeight: \"bold\", paddingRight: \"50px\" }}>Start or join a meeting</p>\n\t\t\t\t\t<Input placeholder=\"URL\" onChange={e => this.handleChange(e)} />\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.join} style={{ margin: \"20px\" }}>Go</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Home;","import React, { Component } from 'react'\nimport Video from './Video'\nimport Home from './Home'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact component={Home} />\n\t\t\t\t\t\t<Route path=\"/:url\" component={Video} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.0/8 are considered localhost for IPv4.\n\twindow.location.hostname.match(\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}